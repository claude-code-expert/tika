# Tika - Product Requirements Document (PRD)

> **Tika** = **Ti**cket-based **Ka**nban Board TODO App
> 버전: 0.2.0
> 최종 수정일: 2026-02-21

---

## 1. 제품 개요

Tika는 개인 할 일 관리를 위한 티켓 기반 칸반 보드 웹 애플리케이션이다.
사용자는 할 일을 티켓(카드) 형태로 생성하고, 칸반 보드 위에서 드래그앤드롭으로 상태를 이동시키며 업무 흐름을 시각적으로 관리한다.

Phase 1에서 MVP 칸반 보드(체크리스트, 라벨, 상위 이슈, 담당자 포함)를 완성하고, Phase 2에서 인증 기반 SaaS로 전환한다.
상위 이슈는 Goal>Story>Feature>Task  순이고 하위 이슈는 상위 이슈에 포함되거나 상위이슈가 없을 경우 Root 이슈인 Goal에 반드시 포함되어야 한다. 

### 핵심 가치

- **시각적 업무 관리**: 칸반 보드를 통해 할 일의 상태를 한눈에 파악
- **직관적 조작**: 드래그앤드롭으로 빠르게 상태 전환
- **체계적 분류**: 라벨, 상위 이슈 계층, 담당자로 업무 구조화
- **세부 작업 추적**: 체크리스트로 하위 작업 진행 상황 관리
- **개인 생산성**: 나에게 할당된 할 일을 효율적으로 추적

---

## 2. 로드맵 개요

| Phase | 버전 | 테마 | 상태 |
|-------|------|------|------|
| Phase 1 | v0.1.0 | MVP — 칸반 보드 + 체크리스트 + 라벨 + 상위 이슈 + 담당자 | 구현 완료 |
| Phase 2 | v0.2.0 | SaaS — 인증 + 알림 + 라벨 확장 + 댓글 + 고급검색 | 구현 예정 |
Phase 3~5 부분은 /docs/phase 디렉토리 참고 

> 전체 로드맵 상세: [ROADMAP.md](ROADMAP.md) 참조

---

## 3. 범위 정의

### 3.1 Phase 1 범위 (v0.1.0 — 구현 완료)

| 포함 | 비고 |
|------|------|
| 단일 사용자 (인증 없음) | Phase 2에서 Google OAuth 도입 |
| 고정 4개 칼럼 칸반 보드 | Backlog, TODO, In Progress, Done |
| 티켓 CRUD | 생성, 조회, 수정, 삭제 |
| 드래그앤드롭 상태 이동 | 칼럼 간 + 칼럼 내 순서 변경 |
| 우선순위 4단계 | LOW, MEDIUM, HIGH, CRITICAL |
| 마감일 및 오버듀 표시 | 마감 초과 시 시각적 경고 |
| 체크리스트 | 티켓 하위 작업 목록 (최대 20개) |
| 라벨/태그 | 6개 프리셋 + 커스텀 라벨, 티켓당 최대 3개 |
| 상위 이슈 계층 | Goal → Story → Feature → Task 4단계 |
| 담당자 배정 | 멤버 등록 + 티켓당 1명 배정 |
| 반응형 디자인 | 모바일(360px) ~ 데스크톱(1920px) |
| Vercel 배포 | Next.js + Vercel Postgres |

### 3.2 Phase 2 범위 (v0.2.0 — 구현 예정)

| 포함 | 관련 FR |
|------|---------|
| Google OAuth 인증 | FR-101 |
| 알림 채널 설정 (Slack/Telegram) | FR-102 |
| 마감일 D-1 알림 | FR-103 |
| 알림 내역 조회 | FR-104 |
| 사용자별 라벨 격리 | FR-105 |
| 댓글 | FR-106 |
| 고급 검색/필터링 | FR-107 |
| 커스텀 도메인 | — |

### 3.3 칸반 보드 칼럼 구조 (고정)

```
┌──────────┐  ┌──────────┐  ┌──────────┐  ┌──────────┐
│ Backlog  │  │   TODO   │  │In Progress│  │   Done   │
│          │  │          │  │          │  │          │
│ 아직 안 잡은│  │ 오늘/이번주 │  │ 지금 하는 중│  │ 완료된 작업 │
│ 할 일 대기 │  │ 할 일 목록 │  │          │  │          │
└──────────┘  └──────────┘  └──────────┘  └──────────┘
```

- **Backlog**: 등록만 된 상태. 아직 일정이 잡히지 않은 할 일
- **TODO**: 할 일로 확정된 상태. 오늘 또는 이번 주 내 처리 예정
- **In Progress**: 현재 진행 중인 작업
- **Done**: 완료된 작업

---

## 4. 핵심 기능 목록

### Phase 1 기능 (FR-001 ~ FR-011)

#### FR-001: 티켓 생성
- **티켓 타입 (필수, 폼 최상단)**: GOAL / STORY / FEATURE / TASK 중 택 1 — 모든 티켓은 반드시 타입을 먼저 선택해야 함
- 제목 (필수, 1~200자), 설명 (선택, 최대 1,000자)
- 우선순위 (LOW / MEDIUM / HIGH / CRITICAL, 기본값: MEDIUM)
- 마감일 (선택, 오늘 이후 날짜)
- 체크리스트 항목 (선택, 최대 20개)
- 라벨 (선택, 최대 3개)
- 상위 이슈 연결 (선택, 선택한 타입의 상위 계층에서 선택)
- 담당자 배정 (선택, 기본값은 티켓 생성자가 자동 입력)
- 생성 시 기본 상태: BACKLOG, 칼럼 맨 위 배치

#### FR-002: 티켓 목록 조회 (보드 뷰)
- 4개 칼럼별 카드 목록 (position 오름차순)
- 카드 표시: 제목, 우선순위 뱃지, 마감일, 오버듀 표시, 라벨 뱃지, 체크리스트 진행률(2/4), 담당자 아바타, 상위 이슈 태그

#### FR-003: 티켓 상세 조회
- 카드 클릭 시 상세 모달 표시
- 전체 정보 + 체크리스트, 라벨, 상위 이슈 브레드크럼, 담당자, 수정/삭제 버튼

#### FR-004: 티켓 수정
- 제목, 설명, 우선순위, 마감일, 라벨, 상위 이슈, 담당자 부분 수정 (PATCH)
- null 전송 시 해당 값 삭제, 필드 미전송 시 유지

#### FR-005: 티켓 삭제
- 상세 모달에서 삭제 버튼 → 확인 다이얼로그 → 하드 삭제

#### FR-006: 드래그앤드롭 상태 이동
- 칼럼 간 카드 이동 (상태 변경) + 칼럼 내 순서 변경
- 낙관적 업데이트: 즉시 UI 반영 → API 호출 → 실패 시 롤백
- DONE 이동 시 completedAt 자동 설정, DONE에서 나올 때 초기화

#### FR-007: 오버듀 판정
- 마감일 지났으나 Done이 아닌 카드에 시각적 경고 (빨간 테두리 + ⚠ 아이콘)
- 파생 필드 (DB 미저장, 조회 시 계산)

#### FR-008: 체크리스트
- 티켓에 하위 작업 목록 추가 (최대 20개 항목)
- 항목 체크/해제, 추가/삭제
- 카드에 진행률 표시 (예: 2/4)
- 상세 사양: REQUIREMENTS.md FR-008 참조

#### FR-009: 라벨/태그
- 6개 기본 라벨 (Frontend, Backend, Design, Bug, Docs, Infra)
- 커스텀 라벨 생성 (이름 + 색상 팔레트)
- 티켓당 최대 5개, 전체 최대 20개
- 보드 필터링 지원
- 상세 사양: REQUIREMENTS.md FR-009 참조

#### FR-010: 상위 이슈 (Goal → Story → Feature → Task)
- 4단계 계층 구조로 티켓을 분류 (Goal > Story > Feature > Task)
- 티켓 타입에 따라 상위 계층 캐스케이딩 드롭다운으로 선택
- 카드에 상위 이슈 태그, 모달에 브레드크럼 표시
- 상세 사양: REQUIREMENTS.md FR-010 참조

#### FR-011: 담당자 배정
- 멤버 사전 등록 (이름 + 아바타 색상)
- 티켓당 1명 배정 또는 미배정
- 카드에 아바타(이니셜 + 배경색) 표시
- 보드 필터링 지원
- 상세 사양: REQUIREMENTS.md FR-011 참조

### Phase 2 기능 (FR-101 ~ FR-107)

#### FR-101: Google OAuth 인증
Google 계정 로그인으로 개인 티켓 관리. 인증된 사용자만 서비스 이용 가능. NextAuth.js v5 기반 세션 관리.

#### FR-102: 알림 채널 설정
Slack Incoming Webhook 또는 Telegram Bot API로 알림 수신 채널 설정. 채널별 ON/OFF 토글.

#### FR-103: 마감일 D-1 알림
마감일 하루 전 설정된 채널로 자동 알림 발송. Vercel Cron 스케줄러.

#### FR-104: 알림 내역 조회
발송된 알림 이력 확인. 읽음/안읽음, 페이지네이션, 클릭 시 티켓 상세 이동.

#### FR-105: 라벨 확장 (사용자별 격리)
Phase 1 라벨 기능을 사용자별 격리로 확장. labels 테이블에 user_id FK 추가.

#### FR-106: 댓글
티켓에 텍스트 댓글 작성/수정/삭제. 최신순 정렬. 티켓 삭제 시 CASCADE.

#### FR-107: 고급 검색/필터링
키워드 검색(ILIKE) + 우선순위/상태/마감일 범위/라벨/오버듀 다중 조건 AND 필터.

> Phase 2 상세 사양: REQUIREMENTS.md §Phase 2 참조

---

## 5. 사용자 시나리오

### 시나리오 1: 새 할 일 등록

1. 사용자가 헤더의 "새 업무" 버튼을 클릭한다
2. 이슈 타입(Goal, Story, Feature, Task) 선택 (필수), 제목(필수)을 입력하고, 필요 시 설명, 체크리스트, 라벨, 상위 이슈 선택 (옵션), 담당자(기본 티켓 생성자 auto fill)를 설정한다
3. "업무 생성" 버튼을 누르면 Backlog 칼럼 맨 위에 카드가 추가된다

### 시나리오 2: 할 일 상태 이동

1. 사용자가 Backlog에 있는 카드를 드래그한다
2. TODO 칼럼에 드롭하면 상태가 TODO로 변경된다
3. 같은 방식으로 어떤 칼럼에서든 어떤 칼럼으로든 자유 이동 가능
4. 이동 즉시 UI에 반영되고, 서버 실패 시 원래 위치로 롤백

### 시나리오 3: 티켓 상세 보기/수정

1. 카드를 클릭하면 상세 모달이 열린다
2. 체크리스트 항목 체크/해제, 라벨 추가/제거, 카테고리 변경, 담당자 변경 가능
3. 제목, 설명, 우선순위, 마감일을 수정할 수 있다
4. 삭제 버튼으로 확인 후 티켓을 삭제할 수 있다

### 시나리오 4: 완료 현황 파악

1. 사용자가 보드를 열면 4개 칼럼에 카드가 분류되어 있다
2. 각 칼럼 상단에 카드 수가 표시된다
3. 마감일이 지난 미완료 카드는 빨간 테두리 + ⚠ 아이콘으로 구분된다

### 시나리오 5: 세부 작업 관리

1. 티켓 생성 시 체크리스트 항목을 추가한다
2. 상세 모달에서 체크박스 클릭으로 항목 완료/미완료를 토글한다
3. 카드에 체크리스트 진행률(2/4)이 표시되어 한눈에 진행 상황을 파악한다

### 시나리오 6: 라벨 기반 분류

1. 기본 라벨(Frontend, Backend 등)을 선택하거나 커스텀 라벨을 생성한다
2. 티켓에 최대 3개 라벨을 부착한다
3. 보드 필터 바에서 특정 라벨만 필터링하여 확인한다

### 시나리오 7: 업무 계층 구조 관리

1. Goal → Story → Feature → Task 4단계 계층을 설정한다
2. 티켓 생성/수정 시 선택한 타입의 상위 계층 캐스케이딩 드롭다운으로 상위 이슈를 선택한다
3. 카드에 상위 이슈 태그, 상세 모달에 브레드크럼([G] MVP 출시 › [S] 칸반 보드 › [F] 드래그앤드롭 › [T] 터치 지원)이 표시된다

### 시나리오 8: Google 계정 로그인 (Phase 2)

1. 비로그인 상태로 서비스 접근 시 로그인 페이지로 이동
2. Google 로그인 버튼 클릭 → OAuth 인증 → 내 칸반 보드 표시
3. 헤더에 프로필 아바타와 이름 표시, 로그아웃 가능

### 시나리오 9: 마감일 알림 수신 (Phase 2)

1. 설정 페이지에서 Slack/Telegram 채널을 연동한다
2. 마감일 하루 전 아침에 설정된 채널로 알림이 발송된다
3. 헤더 알림 벨에서 발송 내역을 확인할 수 있다

---

## 6. 비기능 요구사항

### Phase 1

| ID | 항목 | 기준 |
|----|------|------|
| NFR-001 | API 응답 시간 | p95 200ms 이하 |
| NFR-002 | 반응형 디자인 | 모바일(360px) ~ 데스크톱(1920px), 3단계 레이아웃 |
| NFR-003 | 접근성 | WCAG 2.1 AA, 키보드 네비게이션, 스크린 리더 지원 |
| NFR-004 | 데이터 무결성 | 낙관적 업데이트 + 실패 시 롤백, Zod 이중 검증 |
| NFR-005 | 브라우저 호환 | Chrome, Safari, Firefox, Edge 최신 2개 버전 |
| NFR-006 | 배포 | Vercel + Vercel Postgres (Neon) |

### Phase 2

| ID | 항목 | 기준 |
|----|------|------|
| NFR-101 | SaaS 운영 | 커스텀 도메인, 99.5% 가용성, 사용자별 데이터 격리 |
| NFR-102 | 인증 보안 | NextAuth.js JWT, httpOnly 쿠키, CSRF 방지 |

> 상세: REQUIREMENTS.md §비기능 요구사항 참조

---

## 7. 기술 스택

### Phase 1

| 영역 | 기술 | 선정 이유 |
|------|------|----------|
| 프레임워크 | Next.js 15 (App Router) | 모노레포, SSR/SSG, API Routes 통합 |
| 언어 | TypeScript 5.7 | 타입 안전성, 명세와 코드 일치 |
| 스타일링 | Tailwind CSS 4 | 유틸리티 기반, 빠른 프로토타이핑 |
| 드래그앤드롭 | @dnd-kit 6.x | React 19 호환, 접근성, 경량 |
| ORM | Drizzle ORM 0.38 | Vercel Postgres 공식 지원, 서버리스 최적화 |
| 검증 | Zod 3.24 | 런타임 유효성 검증 + 정적 타입 추론 |
| DB | Vercel Postgres (Neon) | Vercel 네이티브 통합, 서버리스 |
| 배포 | Vercel | Next.js 최적 배포, Git 자동 배포 |

### Phase 2 추가

| 기술 | 용도 |
|------|------|
| NextAuth.js v5 | Google OAuth 인증, 세션 관리 |
| Vercel Cron | 마감일 D-1 알림 스케줄러 |

### ORM 선정 근거: Drizzle vs Prisma

1. **서버리스 최적화**: Prisma는 서버리스 환경에서 cold start 문제가 있음. Drizzle은 경량이라 cold start가 거의 없음
2. **Vercel 공식 지원**: Vercel이 Drizzle + Postgres 공식 스타터 템플릿을 제공
3. **코드 생성 불필요**: Prisma는 `prisma generate` 단계가 필요하지만 Drizzle은 TypeScript로 직접 스키마 정의
4. **SQL 학습 효과**: SQL과 유사한 API로 실제 SQL을 이해하는 데 도움
5. **번들 크기**: Drizzle이 Prisma 대비 훨씬 가벼움 (서버리스 함수 크기 제한 고려)

---

## 8. UI/UX 디자인 참조

| 문서 | 경로 | 설명 |
|------|------|------|
| 디자인 시스템 | `docs/front/DESIGN_SYSTEM.md` | 디자인 토큰 (타이포그래피, 색상, 간격, 그림자) |
| UI 컴포넌트 가이드 | `docs/front/UI_COMPONENT_GUIDE.md` | 전체 컴포넌트 인벤토리 (15개 섹션) |
| 색상 팔레트 | `docs/front/COLOR.json` | 구조화된 색상 토큰 JSON |
| HTML 프로토타입 | `docs/front/tika-main.html` | 동작하는 단일 파일 프로토타입 (~1730줄) |

---

## 9. 문서 참조 표

| 문서 | 경로 | 설명 |
|------|------|------|
| 전체 로드맵 | `docs/ROADMAP.md` | Phase 1~5 목표 및 기능 목록 |
| 상세 요구사항 | `docs/REQUIREMENTS.md` | FR/US/NFR 전체 명세 (v0.2.0) |
| 기술 요구사항 | `docs/TRD.md` | 아키텍처, 기술 스택, 디렉토리 구조 |
| 화면 정의서 | `docs/SCREEN_SPEC.md` | 화면별 레이아웃, 컴포넌트, 상호작용 |
| API 명세서 | `docs/API_SPEC.md` | REST 엔드포인트 상세 |
| 데이터 모델 | `docs/DATA_MODEL.md` | DB 스키마, 타입 정의, ERD |
| 컴포넌트 명세 | `docs/COMPONENT_SPEC.md` | React 컴포넌트 계층, Props, 이벤트 |
| 테스트 케이스 | `docs/TEST_CASES.md` | API/컴포넌트/통합 테스트 시나리오 |
| Phase 3 요구사항 | `docs/phase/REQUIREMENTS-Phase3.md` | Pro — 에디터, 첨부, MCP 등 |
| Phase 4 요구사항 | `docs/phase/REQUIREMENTS-Phase4.md` | Team — 워크스페이스, 협업 |
| Phase 5 요구사항 | `docs/phase/REQUIREMENTS-Phase5.md` | Enterprise — 온프레미스, 라이센스 |
