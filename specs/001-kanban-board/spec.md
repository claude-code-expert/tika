# Feature Specification: Tika - 티켓 기반 칸반 보드 MVP

**Feature Branch**: `001-kanban-board`
**Created**: 2026-02-23
**Status**: Draft
**Input**: User description: "문서를 읽고 명세를 확인해"

## User Scenarios & Testing *(mandatory)*

### User Story 1 - Google 계정으로 로그인하여 내 보드 접근 (Priority: P1)

로그인하지 않은 사용자가 서비스에 접근하면 로그인 페이지로 이동된다. Google 계정으로 로그인하면 본인만의 칸반 보드로 진입하고, 처음 로그인 시 워크스페이스와 멤버가 자동으로 생성된다. 로그아웃하면 다시 로그인 페이지로 돌아간다.

**Why this priority**: 인증 없이는 어떤 기능도 사용할 수 없으며, 다른 사용자의 데이터 접근을 막는 보안의 기반이다.

**Independent Test**: Google 계정으로 로그인하면 빈 칸반 보드가 표시되고, 다른 계정의 데이터는 보이지 않음으로써 데이터 격리가 동작하는지 확인한다.

**Acceptance Scenarios**:

1. **Given** 비로그인 상태에서, **When** 서비스 URL에 접근하면, **Then** 로그인 페이지로 이동된다
2. **Given** 로그인 페이지에서, **When** Google 로그인 버튼을 클릭하고 Google 인증을 완료하면, **Then** 칸반 보드 페이지로 이동된다
3. **Given** 최초 로그인 사용자가, **When** 로그인을 완료하면, **Then** "내 워크스페이스"가 자동 생성되고 담당자(멤버)가 등록된다
4. **Given** 로그인 상태에서, **When** 로그아웃 버튼을 클릭하면, **Then** 로그인 페이지로 이동된다
5. **Given** 로그인한 사용자가, **When** 보드를 열면, **Then** 헤더에 본인 프로필 이름과 아바타가 표시된다

---

### User Story 2 - 칸반 보드에서 할 일 현황 파악 (Priority: P1)

로그인한 사용자는 Backlog, TODO, In Progress, Done 4개의 고정 칼럼으로 구성된 칸반 보드에서 모든 할 일을 한눈에 파악할 수 있다. 각 칼럼에는 해당 상태의 카드 수가 표시되고, 카드에는 제목, 우선순위, 마감일 등 핵심 정보가 표시된다.

**Why this priority**: 칸반 보드 조회는 앱의 메인 화면이며 가장 자주 사용하는 기능이다.

**Independent Test**: 여러 상태의 티켓을 미리 생성한 후, 보드를 열었을 때 각 칼럼에 올바르게 분류되어 표시되는지 확인한다.

**Acceptance Scenarios**:

1. **Given** 로그인한 상태에서, **When** 보드 페이지를 열면, **Then** Backlog, TODO, In Progress, Done 4개 칼럼이 표시된다
2. **Given** 각 칼럼에 티켓이 있을 때, **When** 보드를 조회하면, **Then** 각 칼럼 상단에 카드 수 뱃지가 표시된다
3. **Given** 티켓이 있을 때, **When** 보드 카드를 보면, **Then** 제목, 우선순위 뱃지, 마감일, 라벨 뱃지, 체크리스트 진행률, 담당자 아바타가 표시된다
4. **Given** 마감일이 지난 미완료 티켓이 있을 때, **When** 보드를 조회하면, **Then** 해당 카드에 빨간 테두리와 경고 아이콘이 표시된다
5. **Given** 데스크톱 화면에서, **When** 보드를 열면, **Then** 4칼럼이 가로로 배치되고, 모바일에서는 1칼럼으로 표시된다
6. **Given** 최초 로그인 후 티켓이 하나도 없을 때, **When** 보드를 열면, **Then** Backlog 칼럼에만 "새 티켓 추가" 안내 텍스트와 바로가기 버튼이 표시되고, 나머지 칼럼은 빈 공간으로 표시된다

---

### User Story 3 - 새 할 일 티켓 생성 (Priority: P1)

사용자는 "새 업무" 버튼을 클릭하여 할 일을 생성한다. 제목(필수)과 타입(필수)을 입력하고 선택적으로 설명, 우선순위, 마감일, 체크리스트, 라벨, 상위 이슈를 설정한다. 생성된 티켓은 Backlog 칼럼 맨 위에 추가된다.

**Why this priority**: 티켓 생성 없이는 다른 모든 기능이 의미 없다.

**Independent Test**: 제목만 입력하여 생성하면 Backlog 칼럼에 카드가 나타나는지, 빈 제목으로 생성 시 에러가 표시되는지 확인한다.

**Acceptance Scenarios**:

1. **Given** 보드에서, **When** "+ 새 업무" 버튼을 클릭하면, **Then** 티켓 생성 모달이 열린다
2. **Given** 생성 모달에서, **When** 제목만 입력하고 생성 버튼을 누르면, **Then** Backlog 칼럼 맨 위에 새 카드가 추가되고 모달이 닫힌다
3. **Given** 생성 모달에서, **When** 빈 제목으로 생성을 시도하면, **Then** "제목을 입력해주세요" 에러 메시지가 표시된다
4. **Given** 생성 모달에서, **When** 우선순위를 선택하지 않으면, **Then** MEDIUM(보통)으로 자동 설정된다
5. **Given** 생성 모달에서, **When** 과거 날짜를 마감일로 선택하려 하면, **Then** 선택이 불가하거나 에러가 표시된다
6. **Given** 생성 모달에서, **When** 타입(GOAL/STORY/FEATURE/TASK)을 선택하면, **Then** 선택한 타입에 맞는 상위 이슈 선택 옵션이 표시된다

---

### User Story 4 - 드래그앤드롭으로 할 일 상태 변경 (Priority: P1)

사용자는 카드를 마우스로 드래그(모바일에서는 길게 터치)하여 다른 칼럼으로 이동시키거나, 같은 칼럼 내에서 순서를 변경할 수 있다. 이동은 즉각적으로 화면에 반영되고, 서버 오류 발생 시 원래 위치로 되돌아간다.

**Why this priority**: 칸반 보드의 핵심 인터랙션으로, 드래그앤드롭 없이는 칸반의 의미가 없다.

**Independent Test**: Backlog의 카드를 Done으로 드래그하면 Done 칼럼에 배치되고, 완료 시각이 기록되는지 확인한다.

**Acceptance Scenarios**:

1. **Given** 카드가 Backlog에 있을 때, **When** 카드를 TODO 칼럼으로 드래그하면, **Then** 카드가 즉시 TODO 칼럼으로 이동한다
2. **Given** 카드를 드래그하여 Done으로 이동할 때, **When** 드롭하면, **Then** 완료 시각이 자동으로 기록된다
3. **Given** Done에 있는 카드를, **When** 다른 칼럼으로 이동하면, **Then** 완료 시각이 초기화된다
4. **Given** 같은 칼럼 내에서, **When** 카드를 위아래로 드래그하면, **Then** 카드 순서가 변경된다
5. **Given** 드래그 후 서버 오류가 발생하면, **When** API 호출이 실패하면, **Then** 카드가 이동 전 위치로 되돌아간다
6. **Given** 모바일에서, **When** 카드를 200ms 이상 길게 터치하면, **Then** 드래그가 시작된다

---

### User Story 5 - 티켓 상세 보기 및 수정 (Priority: P2)

사용자는 카드를 클릭하여 상세 모달을 열고 전체 정보를 확인하며 수정할 수 있다. 체크리스트 항목을 체크하거나 추가/삭제하고, 라벨을 변경하고, 상위 이슈를 수정할 수 있다.

**Why this priority**: 생성 후 수정은 기본적인 CRUD이지만, 보드 조회와 생성이 먼저 동작해야 의미 있다.

**Independent Test**: 카드를 클릭하면 상세 모달이 열리고 제목을 수정한 후 저장하면 카드에 변경된 제목이 표시되는지 확인한다.

**Acceptance Scenarios**:

1. **Given** 보드의 카드를 클릭하면, **When** 모달이 열리고, **Then** 제목, 설명, 상태, 우선순위, 마감일, 체크리스트, 라벨, 담당자, 상위 이슈 브레드크럼이 표시된다
2. **Given** 상세 모달에서, **When** 체크리스트 항목의 체크박스를 클릭하면, **Then** 완료/미완료 상태가 토글되고 카드의 진행률이 갱신된다
3. **Given** 상세 모달에서, **When** 제목을 수정하고 저장하면, **Then** 보드 카드에 수정된 제목이 표시된다
4. **Given** 상세 모달에서, **When** ESC 키를 누르거나 모달 외부를 클릭하면, **Then** 모달이 닫힌다
5. **Given** 상세 모달에서 마감일 초과 티켓을 보면, **When** 모달 내에서, **Then** "마감 초과" 텍스트가 표시된다

---

### User Story 6 - 티켓 삭제 (Priority: P2)

사용자는 상세 모달에서 삭제 버튼을 눌러 티켓을 영구 삭제할 수 있다. 삭제 전에는 반드시 확인 다이얼로그가 표시된다.

**Why this priority**: 삭제는 불가역적인 작업이므로 확인 절차가 필수적이며, 잘못 생성된 티켓을 제거하는 데 필요하다.

**Independent Test**: 상세 모달의 삭제 버튼을 클릭하고 확인 다이얼로그에서 삭제를 선택하면 카드가 보드에서 사라지는지 확인한다.

**Acceptance Scenarios**:

1. **Given** 상세 모달에서, **When** "삭제" 버튼을 클릭하면, **Then** "정말 삭제하시겠습니까?" 확인 다이얼로그가 표시된다
2. **Given** 확인 다이얼로그에서, **When** "삭제"를 클릭하면, **Then** 티켓이 보드에서 사라진다
3. **Given** 확인 다이얼로그에서, **When** "취소"를 클릭하면, **Then** 티켓이 삭제되지 않고 모달로 돌아간다

---

### User Story 7 - 라벨로 할 일 분류 및 필터링 (Priority: P2)

사용자는 기본 제공 라벨(Frontend, Backend, Design, Bug, Docs, Infra) 또는 직접 만든 커스텀 라벨을 티켓에 붙여 카테고리별로 구분할 수 있다. 보드에서 특정 라벨로 필터링하면 해당 라벨의 티켓만 표시된다.

**Why this priority**: 라벨은 할 일 분류의 핵심 수단으로, 티켓이 많아질수록 가치가 높아진다.

**Independent Test**: 기본 라벨 "Bug"를 티켓에 부착하고 보드 필터에서 "Bug"를 선택하면 해당 티켓만 표시되는지 확인한다.

**Acceptance Scenarios**:

1. **Given** 티켓 생성/수정 시, **When** 라벨 선택기에서 기본 라벨을 선택하면, **Then** 카드에 색상 라벨 뱃지가 표시된다
2. **Given** 커스텀 라벨 생성 시, **When** 이름과 색상을 지정하면, **Then** 라벨 목록에 추가된다
3. **Given** 티켓에 라벨을 부착할 때, **When** 6번째 라벨을 추가하려 하면, **Then** 최대 5개 제한 메시지가 표시된다
4. **Given** 보드 상단 필터에서, **When** 특정 라벨을 선택하면, **Then** 해당 라벨이 부착된 티켓만 보드에 표시된다
5. **Given** 라벨을 삭제하면, **When** 해당 라벨이 부착된 티켓을 조회하면, **Then** 삭제된 라벨은 표시되지 않는다

---

### User Story 8 - 체크리스트로 세부 작업 추적 (Priority: P2)

사용자는 티켓에 최대 20개의 체크리스트 항목을 추가하여 세부 작업의 진행 상황을 추적할 수 있다. 보드 카드에는 완료된 항목 수와 전체 항목 수가 표시된다.

**Why this priority**: 큰 작업을 쪼개서 추적하는 핵심 기능으로, 티켓의 진행 상황을 카드에서 한눈에 파악하는 데 도움을 준다.

**Independent Test**: 티켓에 체크리스트 항목 3개를 추가하고 1개를 체크하면 카드에 "1/3"이 표시되는지 확인한다.

**Acceptance Scenarios**:

1. **Given** 상세 모달에서, **When** 체크리스트 항목 텍스트를 입력하고 추가하면, **Then** 항목이 목록에 추가된다
2. **Given** 체크리스트에 항목이 있을 때, **When** 체크박스를 클릭하면, **Then** 완료 상태로 표시되고 보드 카드의 진행률이 갱신된다
3. **Given** 20개 항목이 있을 때, **When** 21번째 항목을 추가하려 하면, **Then** 추가가 차단된다
4. **Given** 티켓에 체크리스트가 있을 때, **When** 보드 카드를 보면, **Then** "완료수/전체수" (예: 2/4) 형식으로 진행률이 표시된다

---

### User Story 9 - 상위 이슈 계층으로 업무 구조화 (Priority: P3)

사용자는 Goal > Story > Feature > Task 4단계 계층 구조로 업무를 분류하고, 티켓을 상위 이슈에 연결하여 개별 작업이 어떤 목표에 속하는지 파악할 수 있다.

**Why this priority**: 업무 구조화는 중요하지만, 기본적인 티켓 생성과 관리가 먼저 동작해야 의미 있다.

**Independent Test**: Goal > Story > Feature 순으로 이슈를 생성하고, 티켓을 Feature에 연결하면 카드에 Feature 태그가 표시되고 모달에 전체 브레드크럼이 표시되는지 확인한다.

**Acceptance Scenarios**:

1. **Given** 티켓 생성 시, **When** Goal을 선택하면, **Then** 해당 Goal의 Story 목록이 드롭다운에 표시된다
2. **Given** Goal이 선택된 상태에서, **When** Story를 선택하면, **Then** 해당 Story의 Feature 목록이 표시된다
3. **Given** 이슈 계층이 연결된 티켓의 카드를 보면, **When** 보드에서, **Then** 연결된 Feature 이름이 태그로 표시된다
4. **Given** 상세 모달에서, **When** 이슈 계층이 연결된 티켓을 열면, **Then** "[G] 목표명 › [S] 스토리명 › [F] 기능명" 형식의 브레드크럼이 표시된다
5. **Given** 상위 이슈를 삭제하면, **When** 하위 이슈를 조회하면, **Then** 상위 이슈 참조가 자동으로 해제된다

---

### Edge Cases

- 네트워크 오류로 드래그앤드롭 API 호출이 실패하면 카드가 원래 위치로 복원된다
- 200자를 초과하는 제목을 입력하면 생성/수정이 차단된다
- 마감일이 오늘인 카드는 오버듀로 표시되지 않는다 (초과한 날짜부터 표시)
- Done 상태의 카드는 마감일이 지나도 오버듀 경고가 표시되지 않는다
- 티켓을 삭제하면 연결된 체크리스트 항목이 모두 함께 삭제된다
- 라벨을 삭제하면 해당 라벨이 부착된 모든 티켓에서 자동으로 제거된다
- 워크스페이스 내 라벨 이름은 중복 불가 (같은 이름의 라벨 재생성 시 에러)
- 티켓당 체크리스트 항목 최대 20개, 라벨 최대 5개, 전체 라벨 최대 20개, 워크스페이스 전체 티켓 최대 300개 제한
- 워크스페이스에 티켓이 300개일 때 신규 생성을 시도하면 생성이 차단되고 안내 메시지가 표시된다

---

## Requirements *(mandatory)*

### Functional Requirements

- **FR-001**: 사용자는 Google 계정으로만 로그인할 수 있으며, 미인증 접근 시 로그인 페이지로 이동해야 한다
- **FR-002**: 최초 로그인 시 기본 워크스페이스("내 워크스페이스")와 담당자 정보가 자동으로 생성되어야 한다
- **FR-003**: 사용자는 자신의 워크스페이스 데이터(티켓, 라벨, 이슈)만 접근할 수 있어야 한다
- **FR-004**: 사용자는 제목(필수)과 타입(GOAL/STORY/FEATURE/TASK)을 지정하여 티켓을 생성할 수 있어야 한다
- **FR-005**: 생성된 티켓은 항상 Backlog 칼럼의 맨 위에 배치되어야 한다
- **FR-006**: 티켓 제목은 1~200자이고, 설명은 최대 1,000자이며, 공백만으로 구성된 제목은 허용하지 않는다
- **FR-007**: 칸반 보드는 Backlog, TODO, In Progress, Done 4개의 고정 칼럼으로 구성되어야 한다
- **FR-008**: 각 칼럼의 카드는 순서(position) 기준으로 정렬되어야 한다
- **FR-009**: 사용자는 카드를 드래그앤드롭하여 칼럼 간 이동 및 칼럼 내 순서 변경을 할 수 있어야 한다
- **FR-010**: 드래그앤드롭은 낙관적 업데이트(즉시 UI 반영)를 지원하며, 서버 오류 시 원래 위치로 롤백되어야 한다
- **FR-011**: Done 칼럼으로 이동 시 완료 시각이 자동 기록되고, Done에서 다른 칼럼으로 이동 시 완료 시각이 초기화되어야 한다
- **FR-012**: 마감일이 지났으나 Done이 아닌 티켓은 오버듀 경고(빨간 테두리 + 경고 아이콘)를 표시해야 한다
- **FR-013**: 티켓에는 우선순위(LOW/MEDIUM/HIGH/CRITICAL, 기본값 MEDIUM)와 마감일(오늘 이후)을 설정할 수 있어야 한다
- **FR-014**: 티켓 수정은 부분 업데이트(PATCH) 방식으로 전송된 필드만 업데이트되어야 한다
- **FR-015**: 티켓 삭제는 확인 다이얼로그 후 영구 삭제되어야 한다
- **FR-016**: 티켓에 최대 20개의 체크리스트 항목을 추가할 수 있으며, 체크/해제 및 추가/삭제가 가능해야 한다
- **FR-025**: 워크스페이스 전체 티켓 수는 최대 300개로 제한되며, 한도 도달 시 추가 생성이 차단되어야 한다
- **FR-017**: 보드 카드에는 체크리스트 진행률(완료수/전체수)이 표시되어야 한다
- **FR-018**: 사용자는 기본 제공 6개 라벨과 커스텀 라벨을 티켓에 최대 5개까지 부착할 수 있어야 한다
- **FR-019**: 보드에서 라벨 기준으로 필터링이 가능해야 한다
- **FR-020**: 이슈는 Goal > Story > Feature 3단계 계층을 가지며, 티켓은 이슈에 연결될 수 있어야 한다
- **FR-021**: 티켓 생성/수정 시 Goal → Story → Feature 순서의 캐스케이딩 이슈 선택이 제공되어야 한다. 티켓 타입(GOAL/STORY/FEATURE/TASK)과 무관하게 어느 이슈 레벨(Goal/Story/Feature)에도 자유롭게 연결할 수 있으며, 이슈 연결은 선택 사항이다
- **FR-022**: Phase 1에서 담당자는 본인(로그인한 사용자)만 배정 가능하며, 미배정 상태로도 둘 수 있어야 한다
- **FR-023**: 보드는 모바일(360px+), 태블릿(768px+), 데스크톱(1024px+)에서 반응형으로 표시되어야 한다
- **FR-024**: 모든 대화형 요소는 키보드 네비게이션(Tab/Enter/ESC)을 지원해야 한다

### Key Entities

- **Ticket (티켓)**: 할 일의 기본 단위. 제목, 설명, 타입(GOAL/STORY/FEATURE/TASK), 상태(BACKLOG/TODO/IN_PROGRESS/DONE), 우선순위(LOW/MEDIUM/HIGH/CRITICAL), 마감일, 완료 시각, 표시 순서를 가지며 라벨·체크리스트·상위이슈·담당자와 연관된다
- **Column (칼럼)**: 4개의 고정 상태(Backlog, TODO, In Progress, Done)로 구성된 칸반 보드 열
- **Label (라벨)**: 이름과 색상을 가진 분류 태그. 워크스페이스 내에서 이름이 고유하며 티켓에 M:N 관계로 부착됨
- **ChecklistItem (체크리스트 항목)**: 티켓 하위의 세부 작업. 텍스트와 완료 여부를 가지며 티켓 삭제 시 함께 삭제됨
- **Issue (이슈)**: Goal/Story/Feature 3단계 계층 구조의 업무 분류 단위. 상위 이슈 참조를 가지며 자기참조 트리를 형성함
- **Member (멤버)**: 워크스페이스 내 사용자의 담당자 정보. 로그인 시 자동 생성되며 이니셜과 배경색으로 구성된 아바타를 가짐
- **Workspace (워크스페이스)**: 데이터 격리 단위. 사용자당 1개의 기본 워크스페이스가 자동 생성되며 모든 데이터의 귀속 단위임

---

## Success Criteria *(mandatory)*

### Measurable Outcomes

- **SC-001**: 최초 로그인 사용자가 Google 계정 연동부터 첫 티켓 생성까지 5분 이내에 완료할 수 있다
- **SC-002**: 드래그앤드롭 후 200ms 이내에 UI가 반영된다 (낙관적 업데이트로 API 응답 대기 없이 선반영)
- **SC-003**: 마감 초과 티켓을 보드에서 별도 조작 없이 즉시 시각적으로 식별할 수 있다
- **SC-004**: 보드 전체 데이터 최초 로드가 2초 이내에 완료된다 (FCP 기준, 최대 300개 티켓 기준)
- **SC-005**: 로그인한 사용자는 자신의 데이터만 볼 수 있으며, 다른 계정의 데이터에 접근할 수 없다
- **SC-006**: 모바일(360px), 태블릿(768px), 데스크톱(1024px) 모든 환경에서 핵심 기능(티켓 생성, 상태 변경)을 사용할 수 있다
- **SC-007**: 키보드만으로 보드 탐색, 카드 열기, 모달 닫기가 가능하다 (접근성)
- **SC-008**: 네트워크 오류 발생 시 드래그앤드롭 결과가 원래 상태로 자동 복원된다

---

## Clarifications

### Session 2026-02-23

- Q: 티켓 타입(GOAL/STORY/FEATURE/TASK)에 따라 연결 가능한 이슈 레벨(Goal/Story/Feature)에 제한이 있는가? → A: 제한 없음. 티켓 타입과 무관하게 어느 이슈 레벨에도 자유 연결 가능하며, 이슈 연결은 선택 사항이다 (Option B)
- Q: 최초 로그인 후 티켓이 없을 때 빈 칸반 보드의 빈 칼럼 표시 방식은? → A: Backlog 칼럼에만 "새 티켓 추가" 안내 텍스트와 바로가기 버튼 표시. 나머지 칼럼은 빈 공간 유지 (Option B)
- Q: SC-002 "즉각적으로 느껴진다"의 정량 기준은? → A: 드롭 즉시 200ms 이내 UI 반영 (Option C)
- Q: 스펙 내 "티켓"과 "카드" 혼용 시 공식 용어는? → A: "티켓(ticket)"을 공식 명칭으로 사용. "카드(card)"는 보드 위의 시각적 표현을 지칭하는 UI 맥락에서만 허용 (Option A)
- Q: 보드 전체 티켓 최대 수량 제한은? → A: 워크스페이스 전체 최대 300개

---

## Assumptions

- **용어 정의**: "티켓(ticket)"이 공식 명칭이다. "카드(card)"는 칸반 보드 위의 시각적 표현을 지칭하는 UI 맥락에서만 사용하며, 기능 요구사항·데이터 모델 등 비UI 맥락에서는 반드시 "티켓"을 사용한다
- Phase 1은 단일 사용자 환경이며, 멀티 워크스페이스·팀 협업은 포함하지 않는다
- 담당자는 로그인한 본인만 배정 가능하며, 타인 배정 기능은 추후 Phase에서 추가된다
- 이슈 계층은 Goal > Story > Feature 3단계이며, 이슈 목록과 티켓은 별개의 개념이다. 티켓 타입(GOAL/STORY/FEATURE/TASK)은 작업의 크기/범위를 나타낼 뿐이며, 이슈 연결 레벨을 강제하지 않는다
- 기본 라벨 6개는 워크스페이스 생성 시 자동으로 제공된다
- 알림, 댓글, 고급 검색은 Phase 2에서 추가되며 본 명세의 범위 밖이다
